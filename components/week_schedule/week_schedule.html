<div *ng-for="#state_change of schedule.repeating_schedule; #i = index">
    <div class="row">
        <div class="col s12 m5">
            <repeating-selector [week_time]="state_change.week_time"
                                (change)="state_change.week_time=$event; state_change.dirty = true"></repeating-selector>
        </div>
        <div class="col s10 m5">
            <state-change [state]="state_change.state" [index]="i" (change)="state_change.state=$event; state_change.dirty = true"></state-change>
        </div>
        <div class="input-field">
            <a class="btn-floating waves-effect waves-light red" (^click)="remove(state_change)"><i
                    class="material-icons">remove</i></a>
            <a *ng-if="state_change.dirty" (^click)="update(state_change)" class="btn-flat">
                <i class="material-icons">done</i>
            </a>
        </div>
    </div>
</div>
<a class="btn-floating waves-effect waves-light red" (^click)="add()"><i class="material-icons">add</i></a>
